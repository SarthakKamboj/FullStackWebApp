{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Sarthak\\\\TypeScipt-GraphQL-Postgres-React-Tut\\\\front-end\\\\src\\\\pages\\\\register.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n// @ts-nocheck\nimport * as React from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useRegisterMutation } from \"../generated/graphql\";\n\nvar Register = function Register() {\n  _s();\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var _useRegisterMutation = useRegisterMutation(),\n      _useRegisterMutation2 = _slicedToArray(_useRegisterMutation, 2),\n      registerUser = _useRegisterMutation2[1];\n\n  var onSubmit = handleSubmit( /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(data) {\n      var _response$data;\n\n      var response, errorMap;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return registerUser(data);\n\n            case 2:\n              response = _context.sent;\n\n              if ((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.register.errors) {\n                errorMap = errorMap(response.data.register.errors);\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, \"Register Page\", __jsx(\"form\", {\n    onSubmit: onSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    ref: register({\n      required: true\n    }),\n    name: \"username\",\n    placeholder: \"Username\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 17\n    }\n  }), __jsx(\"input\", {\n    type: \"password\",\n    ref: register({\n      required: \"Password required\",\n      minLength: {\n        value: 8,\n        message: \"Password is too short\"\n      }\n    }),\n    name: \"password\",\n    placeholder: \"Password\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 17\n    }\n  }), __jsx(\"button\", {\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }\n  }, \"Submit \"), errors.password && errors.password.message));\n};\n\n_s(Register, \"6aAjbDFktT2rzPwanwoOuQERJzU=\", false, function () {\n  return [useForm, useRegisterMutation];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["C:/Sarthak/TypeScipt-GraphQL-Postgres-React-Tut/front-end/src/pages/register.tsx"],"names":["React","useForm","useRegisterMutation","Register","register","handleSubmit","errors","registerUser","onSubmit","data","response","errorMap","required","minLength","value","message","password"],"mappings":";;;;;;;;;AAAA;AACA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAAQC,OAAR,QAAsB,iBAAtB;AACA,SAASC,mBAAT,QAAoC,sBAApC;;AAOA,IAAMC,QAAkB,GAAG,SAArBA,QAAqB,GAAM;AAAA;;AAAA,iBAEYF,OAAO,EAFnB;AAAA,MAEtBG,QAFsB,YAEtBA,QAFsB;AAAA,MAEZC,YAFY,YAEZA,YAFY;AAAA,MAEEC,MAFF,YAEEA,MAFF;;AAAA,6BAILJ,mBAAmB,EAJd;AAAA;AAAA,MAIrBK,YAJqB;;AAM7B,MAAMC,QAAQ,GAAGH,YAAY;AAAA,wEAAC,iBAAOI,IAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACJF,YAAY,CAACE,IAAD,CADR;;AAAA;AACrBC,cAAAA,QADqB;;AAE3B,oCAAIA,QAAQ,CAACD,IAAb,mDAAI,eAAeL,QAAf,CAAwBE,MAA5B,EAAoC;AACzBK,gBAAAA,QADyB,GACdA,QAAQ,CAACD,QAAQ,CAACD,IAAT,CAAcL,QAAd,CAAuBE,MAAxB,CADM;AAEnC;;AAJ0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAD;;AAAA;AAAA;AAAA;AAAA,MAA7B;AAOA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAEI;AAAM,IAAA,QAAQ,EAAEE,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,GAAG,EAAEJ,QAAQ,CAAC;AAACQ,MAAAA,QAAQ,EAAC;AAAV,KAAD,CAAhC;AAAmD,IAAA,IAAI,EAAC,UAAxD;AAAmE,IAAA,WAAW,EAAC,UAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,GAAG,EAAER,QAAQ,CAAC;AAACQ,MAAAA,QAAQ,EAAC,mBAAV;AAA+BC,MAAAA,SAAS,EAAC;AAACC,QAAAA,KAAK,EAAC,CAAP;AAAUC,QAAAA,OAAO,EAAC;AAAlB;AAAzC,KAAD,CAApC;AAA4H,IAAA,IAAI,EAAC,UAAjI;AAA4I,IAAA,WAAW,EAAC,UAAxJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,EAIKT,MAAM,CAACU,QAAP,IAAmBV,MAAM,CAACU,QAAP,CAAgBD,OAJxC,CAFJ,CADJ;AAWH,CAxBD;;GAAMZ,Q;UAEuCF,O,EAEjBC,mB;;;KAJtBC,Q;AA0BN,eAAeA,QAAf","sourcesContent":["// @ts-nocheck\r\nimport * as React from \"react\"\r\nimport {useForm} from \"react-hook-form\";\r\nimport { useRegisterMutation } from \"../generated/graphql\";\r\n\r\ntype formType = {\r\n    username: string\r\n    password: string\r\n}\r\n\r\nconst Register: React.FC = () => {\r\n    \r\n    const {register, handleSubmit, errors} = useForm<formType>();\r\n\r\n    const [,registerUser] = useRegisterMutation();\r\n\r\n    const onSubmit = handleSubmit(async (data) => {\r\n       const response = await registerUser(data);\r\n       if (response.data?.register.errors) {\r\n            const errorMap = errorMap(response.data.register.errors)\r\n       }\r\n    })\r\n\r\n    return (\r\n        <div>\r\n            Register Page\r\n            <form onSubmit={onSubmit}>\r\n                <input type=\"text\" ref={register({required:true})} name=\"username\" placeholder=\"Username\" />\r\n                <input type=\"password\" ref={register({required:\"Password required\", minLength:{value:8, message:\"Password is too short\"}})} name=\"password\" placeholder=\"Password\" />\r\n                <button type='submit'>Submit </button>\r\n                {errors.password && errors.password.message}\r\n            </form> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register;"]},"metadata":{},"sourceType":"module"}